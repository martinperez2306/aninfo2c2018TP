<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Proyectos</title>

<!-- JQuery -->
<script src="../../../resources/js/jquery-2-1-3.min.js"></script>

<!-- AngularJS -->
<script type="text/javascript" src="../../../resources/angular/angular.min.js"></script>
<script type="text/javascript"
	src="../../../resources/angular/controllers/asignaciones-controller.js"></script>
<script type="text/javascript"
	src="../../../resources/angular/factorys/proyecto-factory.js"></script>
<script type="text/javascript"
	src="../../../resources/angular/factorys/tarea-factory.js"></script>
<script type="text/javascript"
	src="../../../resources/angular/factorys/empleado-factory.js"></script>
<script type="text/javascript"
	src="../../../resources/angular/factorys/asignacion-factory.js"></script>
	
<!-- Bootstrap -->
<link href="../../../resources/css/bootstrap.min.css" rel="stylesheet">
<script src="../../../resources/js/bootstrap.min.js"></script>


<style>
.asignacionesContainer{
	padding-left: 2%;
	padding-right:2%
}
.botonVerTarea{
	color: white;
}
</style>
</head>
<body>
<div ng-app="aninfoApp" ng-controller="asignacionesController" ng-init="init()">
    
    <div class="asignacionesContainer">
    	<label>Asignaciones</label>
    	<div class="form-group">
    	<table class="table table-striped">
    		<thead>
    			<tr>
    				<th style="width: 20%">ID</th>
    				<th style="width: 20%">Proyecto</th>
    				<th style="width: 20%">Tarea</th>
    				<th style="width: 20%">Empleado</th>
    				<th style="width: 20%">Accion</th>
    			</tr>
    		</thead>
    		<tbody>
    			<tr ng-repeat="asignacion in asignaciones">
    				<td style="width: 20%">{{asignacion.id}}</td>
    				<td style="width: 20%">{{asignacion.codigoProyecto}}</td>
    				<td style="width: 20%">{{asignacion.codigoTarea}}</td>
    				<td style="width: 20%">{{asignacion.dniEmpleado}}</td>
     				<td style="width: 20%"><button class="btn btn-danger" ng-click="borrarAsignacion(asignacion)"><span class="glyphicon glyphicon-trash "></button></td>
    			</tr>
    		</tbody>
    	</table>
    	</div>
    	<button class="btn btn-default" ng-click="agregarAsignacion()">Nuevo</button>
    	<button class="btn btn-info" ng-click="cargarAsignaciones()"><span class="glyphicon glyphicon-refresh"></button>
    	<div class="form-group" ng-show="nuevaAsignacion.edit">
    	<label>Nueva Asignaciones</label>
    	<table class="table table-striped">
    		<thead>
    			<tr>
    				<th style="width: 100%">Empleado</th>
    			</tr>
    		</thead>
    		<tbody>
    			<tr>
    				<td style="width: 25%">
    					<select ng-options="empleado.dni as empleado.nombre for empleado in empleadosDisponibles track by empleado.dni" 
    							ng-model="nuevaAsignacion.dniEmpleado">
						</select>
    			</tr>
    		</tbody>
    	</table>
    	<button class="btn btn-success" ng-click="aceptarNuevaAsignacion()">Aceptar</button>
    	<button class="btn btn-danger" ng-click="cancelarNuevaAsignacion()">Cancelar</button>
    	</div>
    </div>
</div>
</body>
</html>